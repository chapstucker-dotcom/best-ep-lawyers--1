# Best EP Lawyers (Next.js + Tailwind + optional Supabase)

A production-ready starter to list El Paso, Texas law firms with search, categories, dynamic firm pages, pricing tiers, and an admin submission form. SEO is server-side via Next metadata, plus sitemap and robots.

## Quick Start

```bash
pnpm i   # or npm i / yarn
pnpm dev # http://localhost:3000
```

## Optional: Supabase (Persistence)

1. Create a Supabase project and get the URL and anon key.
2. Copy `.env.local.example` to `.env.local` and fill:
```
NEXT_PUBLIC_SUPABASE_URL=...
NEXT_PUBLIC_SUPABASE_ANON_KEY=...
```
3. Create a `firms` table:

```sql
create table if not exists public.firms (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default now(),
  slug text unique not null,
  name text not null,
  plan text check (plan in ('Free','Basic','Professional','Expert')) not null default 'Free',
  categories text[] not null,
  phone text not null,
  email text not null,
  website text,
  photo text,
  address text not null,
  blurb text,
  about text
);
```

- Set `RLS` to **enabled** and add a simple policy to allow inserts from anon (or create an admin service route).
- In `app/admin`, submissions insert into this table when Supabase env vars are present. Otherwise they save to `localStorage` (demo mode) and require an `Admin Key` to set paid plans.

## SEO
- Server-rendered `<Metadata>` in `app/layout.tsx`.
- `/sitemap.xml` from `app/sitemap.ts`.
- `/robots.txt` via route handler.

## Deploy
- Push to GitHub and deploy on Vercel.
- In Vercel, set your environment variables from `.env.local`.
- Update the canonical domain in `metadataBase` and in `app/sitemap.ts` / robots route.
